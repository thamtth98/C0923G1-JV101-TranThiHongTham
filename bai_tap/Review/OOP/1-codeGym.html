<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    table, th, td, tr {
        border: 2px solid black;
        border-collapse: collapse;
        height: 30px;
        width: 700px;
    }

    th {
    }
</style>
<body>

<button onclick="addStudent()">Add student</button>
<button onclick="editStudent()">Edit student</button>
<button onclick="delStudent()">Delete student</button>
<table>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Class</th>
        <th>Email</th>
        <th>Date of birth</th>
        <th>Module</th>
    </tr>

    <tbody id="result"></tbody>
</table>
<script>
    class Students {
        constructor(id, name, grade, email, dateOfBirth, module) {
            this.id = id;
            this.name = name;
            this.grade = grade;
            this.email = email;
            this.dateOfBirth = dateOfBirth;
            this.module = module;
        }

        getId() {
            return this.id;
        }

        getName() {
            return this.name;
        }

        getEmail() {
            return this.email;
        }

        getGrade() {
            return this.grade;
        }

        getDateOfBirth() {
            return this.dateOfBirth;
        }

        getModule() {
            return this.module;
        }

        setId(newId) {
            this.id = newId;
        }

        setName(newName) {
            this.name = newName;
        }

        setEmail(newEmail) {
            this.email = newEmail;
        }

        setGrade(newGrade) {
            this.grade = newGrade;
        }

        setDateOfBirth(newDob) {
            this.dateOfBirth = newDob;
        }

        setModule(newModule) {
            this.module = newModule;
        }
    }

    let listStudents = [];
    // listStudents.push(new Students(1, "tháº¯m", "C09", "tham@codegym.vn", "10/10/2000", 1));
    let result = document.getElementById("result");
    function displayTable(list) {
        for (let i of list) {
            result.innerHTML += `<tr>
                        <td>${i.id}</td>
                        <td>${i.name}</td>
                        <td>${i.grade}</td>
                        <td>${i.email}</td>
                        <td>${i.dateOfBirth}</td>
                        <td>${i.module}</td>
                        </tr>`;
        }
    }
    // displayTable(listStudents);

    function addStudent() {
        let id = prompt("Input student ID:");
        let name = prompt("Name of new student:");
        let grade = prompt("Class of new student:");
        let email = prompt("Email of new student:");
        let dateOfBirth = prompt("Date of birth of new student:");
        let module = prompt("Module of new student:");
        listStudents.push(new Students(id, name, grade, email, dateOfBirth, module));
        result.innerHTML = "";
        displayTable(listStudents);
    }

    console.log(listStudents);

    function editStudent() {
        let id = prompt("Input student ID:");
        let check = false;
        for (let i in listStudents) {
            check = false;
            if (id === listStudents[i].id) {
                let newName = prompt("Edit name of new student:");
                let newGrade = prompt("Edit class of new student:");
                let newEmail = prompt("Edit email of new student:");
                let newDateOfBirth = prompt("Edit date of birth of new student:");
                let newModule = prompt("Edit module of new student:");
                listStudents[i] = {
                    "id": id,
                    "name": newName,
                    "grade": newGrade,
                    "email": newEmail,
                    "dateOfBirth": newDateOfBirth,
                    "module": newModule,
                }
                check = true;
                break;
            }
        }
        result.innerHTML = "";
        displayTable(listStudents);
        if (!check) {
            alert("Not found ID");
        }
        console.log(listStudents);
    }

    function delStudent() {
        let id = prompt("Input ID student you want to delete: ");
        let check = false;
        for (let i in listStudents) {
            check = false;
            if (id === listStudents[i].id) {
                check = true;
                listStudents.splice(+i,1);
                result.innerHTML = "";
                displayTable(listStudents);
                alert("Deleted!");
            }
        }
        if(!check){
            alert("Not found ID");
        }
    }
</script>
</body>
</html>